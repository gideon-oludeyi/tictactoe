var x=Object.defineProperty,D=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var v=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))M.call(t,r)&&v(e,r,t[r]);if(u)for(var r of u(t))T.call(t,r)&&v(e,r,t[r]);return e},f=(e,t)=>D(e,k(t));var w=(e,t)=>{var r={};for(var n in e)M.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&u)for(var n of u(e))t.indexOf(n)<0&&T.call(e,n)&&(r[n]=e[n]);return r};import{j as s,A as $,a as h,T as W,b as A,I as j,c as B,P,d as V,e as U,G,u as X,f as Y,C as q,S as R,B as S,g as z,h as F,i as K,k as H,l as J,R as Q,m as Z}from"./vendor.b2c4ae43.js";const ee=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};ee();function te(){return s($,{position:"sticky",children:h(W,{variant:"dense",children:[s(A,{variant:"h6",sx:{flexGrow:1},children:"Tictactoe"}),s(j,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",children:s(B,{sx:{width:24,height:24}})})]})})}function re(n){var a=n,{value:e,onClick:t}=a,r=w(a,["value","onClick"]);let o;switch(e){case"X":o=s(U,{fontSize:"large"});break;case"O":o=s(V,{fontSize:"large"});break;default:o=null;break}return s(P,{square:!0,onClick:t,sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:o})}function ne({children:e}){return s(P,{children:s(G,{container:!0,columns:3,sx:{bgcolor:"#777",width:"20rem",height:"20rem"},children:e.map((t,r)=>s(G,{item:!0,xs:1,sm:1,children:t},r))})})}const d="[Game]",_=`${d} SELECT GAME POSITION`,y=`${d} SET GAME MOVE`,O=`${d} RESET GAME`,I=`${d} SET CURRENT PLAYER`,N=`${d} TOGGLE CURRENT PLAYER`,b=`${d} SET GAME WINNER`,oe=`${d} INVALID MOVE ATTEMPTED`,ae=`${d} GAME DRAW`,se=e=>({type:_,payload:{row:Math.floor(e/3),column:e%3}}),ce=(e,t)=>({type:y,payload:{player:e,position:t}}),ie=()=>({type:O}),le=()=>({type:N}),C=e=>({type:I,payload:e}),de=e=>({type:b,payload:e}),ue=(e,t)=>({type:oe,payload:{player:e,position:t}}),pe=()=>({type:ae});function fe(){const{currentPlayer:e,moves:t,winner:r}=X(o=>o.game),n=Y(),a=Array.from(Array(9)).map((o,c)=>t.find(({position:i})=>i.row===Math.floor(c/3)&&i.column===c%3));return h("div",{children:[s(te,{}),s(q,{maxWidth:"sm",children:h(R,{justifyContent:"center",alignItems:"center",sx:{height:"90vh"},spacing:2,children:[s(A,{variant:"h5",component:"h3",children:r?`Player ${r} Won`:e}),s(ne,{children:a.map((o,c)=>s(re,{value:o==null?void 0:o.player,onClick:()=>n(se(c))},c))}),h(R,{flexDirection:"row",justifyContent:"space-evenly",width:"100%",children:[s(S,{startIcon:s(z,{}),onClick:()=>alert("Not Yet Implemented"),children:"Undo"}),s(S,{variant:"contained",disableElevation:!0,onClick:()=>n(ie()),children:"New Game"})]})]})})]})}const L={currentPlayer:"X",moves:[],winner:null},he=(e=L,t)=>{const{payload:r}=t;switch(t.type){case y:return f(p({},e),{moves:[...e.moves,r]});case I:return f(p({},e),{currentPlayer:r});case b:return f(p({},e),{winner:r});case O:return L;default:return e}},me=(e={},t)=>({game:he(e.game,t)});function ye(e){const t=[["","",""],["","",""],["","",""]];return e.forEach(r=>{const{player:n,position:a}=r,{row:o,column:c}=a;t[o][c]=n}),t}function Ee(e,t,r){const n=ye(e),[a,o]=r;n[a][o]=t;const c=3;let i=0,m=0,E=0,g=0;for(let l=0;l<c;l++)n[a][l]===t&&i++,n[l][o]===t&&m++,n[l][l]===t&&E++,n[l][c-(l+1)]===t&&g++;return i===c||m===c||E===c||g===c}const ge=e=>t=>r=>{if(t(r),r.type===_){const{game:n}=e.getState();if(n.winner)return;const{row:a,column:o}=r.payload;n.moves.every(({position:i})=>i.row!==a||i.column!==o)?(e.dispatch(ce(n.currentPlayer,r.payload)),e.dispatch(le())):e.dispatch(ue(n.currentPlayer,r.payload))}},Me=e=>t=>r=>{if(t(r),r.type===y){const{game:n}=e.getState(),{player:a,position:o}=r.payload,{row:c,column:i}=o;Ee(n.moves,a,[c,i])?e.dispatch(de(a)):n.moves.length===9&&e.dispatch(pe())}},Te=e=>t=>r=>{if(t(r),r.type===N){const{game:n}=e.getState();switch(n.currentPlayer){case"X":e.dispatch(C("O"));break;case"O":e.dispatch(C("X"));break}}};var ve=[ge,Me,Te];const we=()=>e=>t=>{e(t),console.group(t.type),console.info(t),console.groupEnd()};var Ae=[we],Pe=[...ve,...Ae];const Ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H,Re=F(...Pe),Se=K(me,Ge(Re));function _e({children:e}){return s(J,{store:Se,children:e})}Q.render(s(Z.StrictMode,{children:s(_e,{children:s(fe,{})})}),document.getElementById("root"));
